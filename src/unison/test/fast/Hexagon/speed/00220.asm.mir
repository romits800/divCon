--- |
  ; ModuleID = '00220.ll'
  source_filename = "./tests/single-exec/00220.c"
  target datalayout = "e-m:e-p:32:32:32-a:0-n16:32-i64:64:64-i32:32:32-i16:16:16-i1:8:8-f32:32:32-f64:64:64-v32:32:32-v64:64:64-v512:512:512-v1024:1024:1024-v2048:2048:2048"
  target triple = "hexagon"
  
  @__const.main.s = private unnamed_addr constant [21 x i32] [i32 104, i32 101, i32 108, i32 108, i32 111, i32 36, i32 36, i32 20320, i32 22909, i32 162, i32 162, i32 19990, i32 30028, i32 8364, i32 8364, i32 119, i32 111, i32 114, i32 108, i32 100, i32 0], align 8
  @.str = private unnamed_addr constant [6 x i8] c"%04X \00", align 1
  
  ; Function Attrs: nounwind
  define dso_local i32 @main() local_unnamed_addr #0 {
  for.body.preheader:
    %s = alloca [21 x i32], align 8
    %0 = bitcast [21 x i32]* %s to i8*
    call void @llvm.lifetime.start.p0i8(i64 84, i8* nonnull %0) #4
    call void @llvm.memcpy.p0i8.p0i8.i32(i8* nonnull align 8 %0, i8* align 8 bitcast ([21 x i32]* @__const.main.s to i8*), i32 84, i1 false)
    %cgep = getelementptr [21 x i32], [21 x i32]* %s, i32 0, i32 1
    %scevgep1 = bitcast i32* %cgep to [21 x i32]*
    br label %for.body
  
  for.body:                                         ; preds = %for.body, %for.body.preheader
    %lsr.iv = phi [21 x i32]* [ %3, %for.body ], [ %scevgep1, %for.body.preheader ]
    %1 = phi i32 [ %2, %for.body ], [ 104, %for.body.preheader ]
    %lsr.iv3 = bitcast [21 x i32]* %lsr.iv to i32*
    %call = tail call i32 (i8*, ...) @printf(i8* getelementptr inbounds ([6 x i8], [6 x i8]* @.str, i32 0, i32 0), i32 %1)
    %2 = load i32, i32* %lsr.iv3, align 4, !tbaa !2
    %tobool = icmp eq i32 %2, 0
    %cgep4 = getelementptr [21 x i32], [21 x i32]* %lsr.iv, i32 0, i32 1
    %3 = bitcast i32* %cgep4 to [21 x i32]*
    br i1 %tobool, label %for.end, label %for.body
  
  for.end:                                          ; preds = %for.body
    %4 = bitcast [21 x i32]* %s to i8*
    %putchar = tail call i32 @putchar(i32 10)
    call void @llvm.lifetime.end.p0i8(i64 84, i8* nonnull %4) #4
    ret i32 0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start.p0i8(i64, i8* nocapture) #1
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.memcpy.p0i8.p0i8.i32(i8* nocapture writeonly, i8* nocapture readonly, i32, i1) #1
  
  ; Function Attrs: nounwind
  declare dso_local i32 @printf(i8* nocapture readonly, ...) local_unnamed_addr #2
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end.p0i8(i64, i8* nocapture) #1
  
  ; Function Attrs: nounwind
  declare i32 @putchar(i32) local_unnamed_addr #3
  
  ; Function Attrs: nounwind
  declare void @llvm.stackprotector(i8*, i8**) #4
  
  attributes #0 = { nounwind "correctly-rounded-divide-sqrt-fp-math"="false" "disable-tail-calls"="false" "less-precise-fpmad"="false" "min-legal-vector-width"="0" "no-frame-pointer-elim"="true" "no-frame-pointer-elim-non-leaf" "no-infs-fp-math"="false" "no-jump-tables"="false" "no-nans-fp-math"="false" "no-signed-zeros-fp-math"="false" "no-trapping-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="hexagonv5" "target-features"="-long-calls" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { argmemonly nounwind "target-cpu"="hexagonv5" }
  attributes #2 = { nounwind "correctly-rounded-divide-sqrt-fp-math"="false" "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="true" "no-frame-pointer-elim-non-leaf" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "no-signed-zeros-fp-math"="false" "no-trapping-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="hexagonv5" "target-features"="-long-calls" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #3 = { nounwind "target-cpu"="hexagonv5" }
  attributes #4 = { nounwind }
  
  !llvm.module.flags = !{!0}
  !llvm.ident = !{!1}
  
  !0 = !{i32 1, !"wchar_size", i32 4}
  !1 = !{!"clang version 9.0.0 (http://llvm.org/git/clang.git 4e215e73ed6b499f3ccf23263c96cd188e0eda2c) (git@github.com:unison-code/llvm.git 9914ec00db7eeaf764045b9071638c2421cd32e7)"}
  !2 = !{!3, !3, i64 0}
  !3 = !{!"int", !4, i64 0}
  !4 = !{!"omnipotent char", !5, i64 0}
  !5 = !{!"Simple C/C++ TBAA"}

...
---
name:            main
alignment:       4
exposesReturnsTwice: false
legalized:       false
regBankSelected: false
selected:        false
failedISel:      false
tracksRegLiveness: true
hasWinCFI:       false
registers:       []
liveins:         []
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       104
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    true
  hasCalls:        true
  stackProtector:  ''
  maxCallFrameSize: 8
  cvBytesOfCalleeSavedRegisters: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
  localFrameSize:  0
  savePoint:       ''
  restorePoint:    ''
fixedStack:      
  - { id: 0, type: spill-slot, offset: -8, size: 8, alignment: 8, stack-id: 0, 
      callee-saved-register: '$d8', callee-saved-restored: true, debug-info-variable: '', 
      debug-info-expression: '', debug-info-location: '' }
stack:           
  - { id: 0, name: s, type: default, offset: -96, size: 84, alignment: 8, 
      stack-id: 0, callee-saved-register: '', callee-saved-restored: true, 
      debug-info-variable: '', debug-info-expression: '', debug-info-location: '' }
constants:       []
body:             |
  bb.0.for.body.preheader (freq 8):
    successors: %bb.1(100)
    liveins: $d8, $d8
  
    ANNOTATION_LABEL <0x817e860> = !{!"unison-block-frequency", i64 8}
    BUNDLE implicit-def $r29, implicit-def $r30, implicit-def $r1, implicit-def $r2, implicit $r29, implicit killed $framekey, implicit killed $framelimit, implicit killed $r30, implicit killed $r31 {
      $r29 = S2_allocframe $r29, 104, implicit-def $r30, implicit killed $framekey, implicit killed $framelimit, implicit killed $r30, implicit killed $r31 :: (store 4 into stack)
      $r1 = A2_tfrsi @__const.main.s
      $r2 = A2_tfrsi 84
    }
    BUNDLE implicit-def $r0, implicit-def $r16, implicit-def dead $pc, implicit-def dead $r31, implicit-def $r29, implicit killed $r29, implicit killed $d8, implicit killed $r1, implicit killed $r2 {
      S2_storerd_io $r29, 96, killed $d8 :: (store 8 into %fixed-stack.0)
      $r0 = A2_addi $r29, 8
      renamable $r16 = A2_addi $r29, 8
      J2_call &memcpy, hexagoncsr, implicit-def dead $pc, implicit-def dead $r31, implicit killed $r29, implicit internal killed $r0, implicit killed $r1, implicit killed $r2, implicit-def $r29, implicit-def dead $r0
    }
    BUNDLE implicit-def $r16, implicit-def $r0, implicit $r16 {
      renamable $r16 = S2_setbit_i renamable $r16, 2
      renamable $r0 = A2_tfrsi 104
    }
  
  bb.1.for.body (align 4, freq 255):
    successors: %bb.2(3), %bb.1(96)
    liveins: $r0, $r16
  
    ANNOTATION_LABEL <0x8181b40> = !{!"unison-block-frequency", i64 255}
    BUNDLE implicit-def $r0, implicit-def dead $pc, implicit-def dead $r31, implicit-def $r29, implicit killed $r29, implicit killed $r0 {
      S2_storeri_io $r29, 0, killed renamable $r0 :: (store 4 into stack)
      $r0 = A2_tfrsi @.str
      J2_call @printf, hexagoncsr, implicit-def dead $pc, implicit-def dead $r31, implicit killed $r29, implicit internal killed $r0, implicit-def $r29, implicit-def dead $r0
    }
    renamable $r0, renamable $r16 = L2_loadri_pi renamable $r16, 4, <0x8181bb0> = !{!"unison-memory-partition", i64 0} :: (load 4 from %ir.lsr.iv3, !tbaa !2)
    BUNDLE implicit-def dead $p0, implicit-def dead $pc, implicit $r0 {
      renamable $p0 = C2_cmpeqi renamable $r0, 0
      J2_jumpfnewpt internal killed renamable $p0, %bb.1, implicit-def dead $pc
    }
  
  bb.2.for.end (freq 8):
    liveouts: $r0, $d8, $r16, $r17, $d15, $r30, $r31, $pc, $r29, $r29, $r30, $framekey
  
    ANNOTATION_LABEL <0x817e860> = !{!"unison-block-frequency", i64 8}
    BUNDLE implicit-def $r0, implicit-def dead $pc, implicit-def dead $r31, implicit-def $r29, implicit $r29 {
      $r0 = A2_tfrsi 10
      J2_call @putchar, hexagoncsr, implicit-def dead $pc, implicit-def dead $r31, implicit $r29, implicit internal killed $r0, implicit-def $r29, implicit-def dead $r0
    }
    BUNDLE implicit-def dead $r0, implicit-def $d8, implicit-def $r16, implicit-def $r17, implicit-def $d15, implicit-def $r30, implicit-def $r31, implicit-def $pc, implicit-def $r29, implicit killed $r29, implicit killed $r30, implicit killed $framekey {
      $r0 = A2_tfrsi 0
      $d8 = L2_loadrd_io killed $r29, 96 :: (load 8 from %fixed-stack.0)
      $d15 = L4_return killed $r30, implicit-def $pc, implicit-def $r29, implicit killed $framekey, implicit-def dead $pc, implicit internal killed $r0, implicit internal $d8
    }

...
